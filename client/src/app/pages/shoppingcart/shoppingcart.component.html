<div class="container">
  <div class="row">
    <div class="col-sm-12 col-md-10 col-md-offset-1">
     <tabset>
       <tab heading="Active order">
          <table class="table table-hover">
        <thead>
          <tr>
            <th>Product</th>
            <th>Quantity</th>
            <th class="text-center">Price</th>
            <th class="text-center">Color</th>
            <th class="text-center">Total</th>
            <th> </th>
          </tr>
        </thead>
        <tbody *ngIf="orders.length>0">
          <tr *ngFor="let order of orders; let i=index">
            <td class="col-sm-8 col-md-6">
              <div class="media">
                <a class="thumbnail pull-left" href="#"> <img
                    class="media-object" src="{{order?.stock.image}}"
                    style="width: 72px; height: 72px;"> </a>
                <div class="media-body">
                  <h4 class="media-heading"><a href="#">{{order?.name}}</a></h4>
                  <h5 class="media-heading"> by <a href="#">{{order?.companyName}}</a></h5>
                  <span>Status: </span><span class="text-success"><strong>In
                      Stock {{order?.stock.stock}}</strong></span>
                </div>
              </div></td>
            <td class="col-sm-1 col-md-1" style="text-align: center">
              <div class="row">
                <button class="btn btn-primary btn-sm col" (click)="handleIncrement(i)">+</button>
                <span class="badge bg-secondary col mx-1 ">{{count[i]}}</span>
                <button class="btn btn-warning btn-sm col" (click)="handleDecrement(i)">-</button>
              </div>
            </td>
            <td class="col-sm-1 col-md-1 text-center"><strong>{{order?.stock.price}}$</strong></td>
            <td class="col-sm-1 col-md-1 text-center"><strong>{{order?.stock.color}}</strong></td>
            <td class="col-sm-1 col-md-1 text-center"><strong>{{_totalPriceForItem[i]}}$</strong></td>
            <td class="col-sm-1 col-md-1">
              <button type="button" class="btn btn-danger"
                (click)="handleDeleteProductFromShoppingCart(order._id,i)">
                <span class="glyphicon glyphicon-remove"></span> Remove
              </button></td>
          </tr>

          <tr>
            <td> </td>
            <td> </td>
            <td> </td>
            <td><h5>Subtotal</h5></td>
            <td class="text-right"><h5><strong>{{_total}}$</strong></h5></td>
          </tr>
          <tr>
            <td> </td>
            <td> </td>
            <td> </td>
            <td><h5>Estimated shipping</h5></td>
            <td class="text-right"><h5><strong>$6</strong></h5></td>
          </tr>
          <tr>
            <td> </td>
            <td> </td>
            <td> </td>
            <td><h3>Total</h3></td>
            <td class="text-right"><h3><strong>{{_total + 6}}</strong></h3></td>
          </tr>
          <tr>
            <td> </td>
            <td> </td>
            <td> </td>
            <td>
              <button type="button" class="btn btn-default">
                <span class="glyphicon glyphicon-shopping-cart"></span> Continue
                Shopping
              </button></td>
            <td>
              <button type="button" class="btn btn-success" (click)="checkOut()">
                Checkout <span class="glyphicon glyphicon-play"></span>
              </button>
              <div class="alert alert-danger m-3" *ngIf="msg">
                {{msg}}
              </div>
            </td>
          </tr>
        </tbody>
      </table>
       </tab>
       <tab heading="Completed" >
         <div class="container">
           <div class="order" *ngFor="let order of completedOrders;let i=index">
             <div class="row m-5" >
             <h3 class="col-12">Order {{i}}</h3>
             <div class="col-12">Name: <strong>{{order.name}}</strong></div>
             <div class="col-12">Company name: <strong>{{order.companyName}}</strong></div>
             <div class="col-12">Quantity: <strong>{{order.quantity}}</strong></div>
             <div class="col-12">Price for one: <strong>{{order.stock.price}}$</strong></div>
             <div class="col-12">Color: <strong>{{order.stock.color}}</strong></div>
             <div class="col-12">Ram/Memory: <strong>{{order.stock.ram}}/{{order.stock.memory}}</strong></div>
             <div class="col-12">Total price: <strong>{{order.totalPrice}}</strong></div>
            <div class="col-12">Completed At: <strong>{{order.updatedAt}}</strong></div>
           </div>
           </div>
         </div>
       </tab>
     </tabset>
    </div>
  </div>
</div>
